{% from 'table/pagination_widget.html' import pagination_widget %}
{% from 'table/table.html' import job_table %}
{% from 'table/job_row.html' import job_row_std_js %}
{% from 'table/tabs.html' import add_tab, finalize_tabs %}

{% extends 'base.html' %}
{% block title%}
Jobs
{% endblock %}
{% block style %}

{{ job_row_std_js() }}
<script>$(document).ready(function () {
  $('#job-table').DataTable({
    autoWidth: false,
    deferRender: false,
    processing: false,
    scrollX: false,
    scrollY: false,
    searching: false,
    serverSide: false,
    stateSave: false,
    paging: false,
    info: false
  }
  );
});</script>

{% endblock %} 

{% block content %}
<h1>Job Overview</h1>
{% if query %}
  <p>Results for "{{ query }}"</p>
{% endif %}
  <form style="width:100%" method="POST" required>
    <input type="text" class="form-control shadow-none" name="Search"id="Search" placeholder="Search" autofocus autocomplete="on">
    <input type='submit' hidden>
  </form>

  

  {{ job_table(jobs, table_id="{{ active }}") }}
  {% if p %}
    {{ pagination_widget(p) }}
  {% endif %}

{% endblock %}